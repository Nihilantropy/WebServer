add this configuration cgi addition
location /cgi-bin/ {
    cgi_handler .php:/usr/bin/php-cgi .py:/usr/bin/python .sh:/bin/sh;
}

This will use differetn interpreter for different file extentions

Refactor host:port parsing and connection listening to allow multiple port for the same server

Work on the clien max body size implementation to better refuse incompatible body sizes